/* ===========================
   Inventory UI – styles.css
   =========================== */

:root{
  --panel:#ffffff;
  --muted:#64748b;
  --accent:#2563eb;
  --danger:#ef4444;
  --success:#16a34a;
  --info:#06b6d4;
  --border:#e5e7eb;
  --border-strong:#cbd5e1;
  --radius:14px;
  --shadow:0 8px 24px rgba(15,23,42,.08);
}

html,body{ height:100%; }
body{ background:#f7f8fb; color:#0f172a; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

/* Sidebar */
.sidebar{ background:#111827; color:#e5e7eb; }
.sidebar a{ color:#cbd5e1; text-decoration:none; display:flex; align-items:center; gap:.6rem; padding:.6rem .9rem; border-radius:10px; }
.sidebar a:hover{ background:rgba(255,255,255,.06); color:#fff; }
.sidebar a.active{ background:#1f2937; color:#fff; }

/* Cards */
.card,.panel{ background:var(--panel); border-radius:var(--radius); border:1px solid var(--border); box-shadow:var(--shadow); }

/* Transitions */
main section{ opacity:0; transform:translateY(8px); transition:.18s ease; }
main section.active{ opacity:1; transform:none; }

/* Table */
.table{ border-color:var(--border); --bs-table-bg:#fff; }
.table thead th{ background:#f3f6ff; color:#334155; border-bottom:1px solid var(--border-strong); font-weight:600; }
.table td,.table th{ vertical-align:middle; }
.text-end{ text-align:right !important; }

/* Toolbar */
.items-toolbar{ display:flex; flex-wrap:wrap; gap:.6rem; align-items:center; justify-content:space-between; margin-bottom:.75rem; }
.items-toolbar .left,.items-toolbar .right{ display:flex; flex-wrap:wrap; gap:.6rem; align-items:center; }
.items-toolbar .search{ min-width:240px; }
@media (max-width:768px){ .items-toolbar{ gap:.8rem; } .items-toolbar .search{ min-width:180px; flex:1; } }

/* QR preview cell */
.qr-cell{ width:160px; min-width:160px; }
.qrbox{ display:flex; flex-direction:column; align-items:center; gap:.4rem; }
.qrbox canvas,.qrbox img{ width:84px; height:84px; image-rendering:pixelated; }
.qrbox .caption{ font-size:.8rem; color:var(--muted); text-align:center; }

/* Item thumbnail */
.thumb{ width:56px; height:56px; object-fit:cover; border-radius:10px; border:1px solid var(--border); box-shadow:0 2px 8px rgba(2,6,23,.06); }

/* Clickable */
.clickable{ cursor:pointer; }
.clickable:hover{ text-decoration:underline; color:var(--accent); }

/* Buttons polish */
.btn{ border-radius:12px; }
.btn-primary{ background:var(--accent); border-color:var(--accent); }
.btn-primary:hover{ filter:brightness(0.95); }
.btn-outline-danger{ --bs-btn-color:var(--danger); --bs-btn-border-color:var(--danger); }
.btn-outline-success{ --bs-btn-color:var(--success); --bs-btn-border-color:var(--success); }

/* Badges */
.badge-soft{ background:#e0edff; color:#1e40af; border-radius:999px; padding:.25rem .55rem; }

/* Detail card */
#card-item-detail .small{ color:var(--muted); }

/* Global loading */
#global-loading{ position:fixed; inset:0; z-index:2000; background:rgba(15,23,42,.42); display:flex; align-items:center; justify-content:center; backdrop-filter:blur(2px); }
#global-loading .box{ background:#fff; border-radius:16px; padding:18px 22px; display:flex; align-items:center; gap:12px; box-shadow:var(--shadow); border:1px solid var(--border); }
#global-loading .spinner{ width:22px; height:22px; border:3px solid #e2e8f0; border-top-color:var(--accent); border-radius:50%; animation:spin .8s linear infinite; }
#global-loading .text{ font-weight:600; color:#1f2937; }
@keyframes spin{ to{ transform:rotate(360deg) } }

/* User QR sheet */
.qr-card{ width:170px; padding:10px; border:1px dashed var(--border-strong); border-radius:12px; background:#fff; text-align:center; }
.qr-card .title{ font-size:.9rem; margin-top:.35rem; color:#334155; }
.qr-card canvas,.qr-card img{ width:110px; height:110px; }

/* Forms */
.form-control,.form-select{ border-radius:10px; border-color:var(--border-strong); }
.form-control:focus,.form-select:focus{ border-color:var(--accent); box-shadow:0 0 0 .15rem rgba(37,99,235,.15); }

/* Responsive */
@media (max-width:992px){ .qr-cell{ width:130px; min-width:130px; } .thumb{ width:48px; height:48px; } }

/* Print */
@media print{
  body{ background:#fff; }
  .sidebar, header, nav, .items-toolbar, .no-print{ display:none !important; }
}
#io-scan-area, #scan-area{
  width:100%; max-width:420px; margin:0 auto;
  aspect-ratio:4/3; position:relative; overflow:hidden; border-radius:12px;
}
#io-scan-area video, #io-scan-area canvas,
#scan-area video,   #scan-area canvas{
  width:100%!important; height:100%!important; object-fit:cover;
}
/* Kolom "置場" di tabel 商品一覧 (kolom ke-8) */
#view-items thead th:nth-child(8),
#view-items tbody td:nth-child(8){
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  letter-spacing: .5px;
  white-space: nowrap;     /* hapus jika ingin bisa baris-baru */
  vertical-align: middle;
  min-width: 96px;         /* opsional: kasih lebar minimum biar tidak mepet */
}
/* Tinggi area grafik agar tidak “turun” */
.chart-box{ height: 300px; }
@media (min-width: 992px){
  /* sedikit lebih tinggi di layar lebar */
  .chart-box{ height: 340px; }
}
/* Pastikan canvas mengikuti tinggi container */
.chart-box canvas{ width:100% !important; height:100% !important; }
/* === Table header & cell === */
.table thead th{ background:#f3f6ff; color:#334155; border-bottom:1px solid var(--border-strong); }
.table th, .table td{ vertical-align: middle; padding:.65rem .8rem; }

/* Kolom lebar fix */
.table th:nth-child(1), .table td:nth-child(1){ width:110px; }   /* QR mini */
.table th:last-child, .table td:last-child{ width:140px; }       /* 操作 */

/* Grid aksi: 2 kolom, 2 baris */
.act-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:.4rem .5rem;
  justify-items:center;
}
.act-grid .btn{ width:42px; height:36px; padding:0; display:flex; align-items:center; justify-content:center; }

/* Mobile tuning */
@media (max-width: 576px){
  .content{ padding:12px; }
  .table th, .table td{ padding:.5rem .6rem; }
  .table th:nth-child(1), .table td:nth-child(1){ width:90px; }
  .table th:last-child, .table td:last-child{ width:128px; }
  .act-grid .btn{ width:40px; height:34px; }
}

/* QR img kecil di tabel tidak merapat ke kiri */
.tbl-qr-box{ display:flex; align-items:center; justify-content:center; }
