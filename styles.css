/* ===========================
   Inventory UI – styles.css
   =========================== */

:root{
  --panel:#ffffff;
  --muted:#64748b;
  --accent:#2563eb;
  --danger:#ef4444;
  --success:#16a34a;
  --info:#06b6d4;
  --border:#e5e7eb;
  --border-strong:#cbd5e1;
  --radius:14px;
  --shadow:0 8px 24px rgba(15,23,42,.08);
}

html,body{ height:100%; }
body{ background:#f7f8fb; color:#0f172a; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

/* Sidebar */
.sidebar{ background:#111827; color:#e5e7eb; }
.sidebar a{ color:#cbd5e1; text-decoration:none; display:flex; align-items:center; gap:.6rem; padding:.6rem .9rem; border-radius:10px; }
.sidebar a:hover{ background:rgba(255,255,255,.06); color:#fff; }
.sidebar a.active{ background:#1f2937; color:#fff; }

/* Cards */
.card,.panel{ background:var(--panel); border-radius:var(--radius); border:1px solid var(--border); box-shadow:var(--shadow); }

/* Transitions */
main section{ opacity:0; transform:translateY(8px); transition:.18s ease; }
main section.active{ opacity:1; transform:none; }

/* Table */
.table{ border-color:var(--border); --bs-table-bg:#fff; }
.table thead th{ background:#f3f6ff; color:#334155; border-bottom:1px solid var(--border-strong); font-weight:600; }
.table td,.table th{ vertical-align:middle; }
.text-end{ text-align:right !important; }

/* Toolbar */
.items-toolbar{ display:flex; flex-wrap:wrap; gap:.6rem; align-items:center; justify-content:space-between; margin-bottom:.75rem; }
.items-toolbar .left,.items-toolbar .right{ display:flex; flex-wrap:wrap; gap:.6rem; align-items:center; }
.items-toolbar .search{ min-width:240px; }
@media (max-width:768px){ .items-toolbar{ gap:.8rem; } .items-toolbar .search{ min-width:180px; flex:1; } }

/* QR preview cell */
.qr-cell{ width:160px; min-width:160px; }
.qrbox{ display:flex; flex-direction:column; align-items:center; gap:.4rem; }
.qrbox canvas,.qrbox img{ width:84px; height:84px; image-rendering:pixelated; }
.qrbox .caption{ font-size:.8rem; color:var(--muted); text-align:center; }

/* Item thumbnail */
.thumb{ width:56px; height:56px; object-fit:cover; border-radius:10px; border:1px solid var(--border); box-shadow:0 2px 8px rgba(2,6,23,.06); }

/* Clickable */
.clickable{ cursor:pointer; }
.clickable:hover{ text-decoration:underline; color:var(--accent); }

/* Buttons polish */
.btn{ border-radius:12px; }
.btn-primary{ background:var(--accent); border-color:var(--accent); }
.btn-primary:hover{ filter:brightness(0.95); }
.btn-outline-danger{ --bs-btn-color:var(--danger); --bs-btn-border-color:var(--danger); }
.btn-outline-success{ --bs-btn-color:var(--success); --bs-btn-border-color:var(--success); }

/* Badges */
.badge-soft{ background:#e0edff; color:#1e40af; border-radius:999px; padding:.25rem .55rem; }

/* Detail card */
#card-item-detail .small{ color:var(--muted); }

/* Global loading */
#global-loading{ position:fixed; inset:0; z-index:2000; background:rgba(15,23,42,.42); display:flex; align-items:center; justify-content:center; backdrop-filter:blur(2px); }
#global-loading .box{ background:#fff; border-radius:16px; padding:18px 22px; display:flex; align-items:center; gap:12px; box-shadow:var(--shadow); border:1px solid var(--border); }
#global-loading .spinner{ width:22px; height:22px; border:3px solid #e2e8f0; border-top-color:var(--accent); border-radius:50%; animation:spin .8s linear infinite; }
#global-loading .text{ font-weight:600; color:#1f2937; }
@keyframes spin{ to{ transform:rotate(360deg) } }

/* User QR sheet */
.qr-card{ width:170px; padding:10px; border:1px dashed var(--border-strong); border-radius:12px; background:#fff; text-align:center; }
.qr-card .title{ font-size:.9rem; margin-top:.35rem; color:#334155; }
.qr-card canvas,.qr-card img{ width:110px; height:110px; }

/* Forms */
.form-control,.form-select{ border-radius:10px; border-color:var(--border-strong); }
.form-control:focus,.form-select:focus{ border-color:var(--accent); box-shadow:0 0 0 .15rem rgba(37,99,235,.15); }

/* Responsive */
@media (max-width:992px){ .qr-cell{ width:130px; min-width:130px; } .thumb{ width:48px; height:48px; } }

/* Print */
@media (print){
  body{ background:#fff; }
  .sidebar, header, nav, .items-toolbar, .no-print{ display:none !important; }
}

/* Area grafik (supaya tidak jatuh) */
.chart-box{ height: 340px; }
.chart-box canvas{ width:100% !important; height:100% !important; }

/* Kolom "置場" di tabel 商品一覧 (kolom ke-8) */
#view-items thead th:nth-child(8),
#view-items tbody td:nth-child(8){
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  letter-spacing: .5px;
  white-space: nowrap;
  vertical-align: middle;
  min-width: 96px;
}

/* Grid aksi di tabel 商品一覧 */
.act-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap:.4rem .5rem;
  justify-items:center;
}
.act-grid .btn{ width:42px; height:36px; padding:0; display:flex; align-items:center; justify-content:center; }

/* Aksi di tabel 棚卸 */
.st-actions{ display:flex; gap:.4rem; justify-content:flex-end; }
.st-actions .btn{ height:32px; padding:0 .6rem; border-radius:10px; }

/* Mobile tuning tabel */
@media (max-width: 576px){
  .content{ padding:12px; }
  .table th, .table td{ padding:.5rem .6rem; }
  .table th:nth-child(1), .table td:nth-child(1){ width:90px; }
  .table th:last-child, .table td:last-child{ width:128px; }
  .act-grid .btn{ width:40px; height:34px; }
}
/* ===== Mobile Polishing (≤ 420px) ===== */
@media (max-width: 420px){

  /* Appbar & header spacing */
  header.appbar .container-fluid{ padding-top:8px; padding-bottom:8px; }
  header.appbar .brand{ gap:.5rem; }
  header.appbar .brand img{ height:28px; }
  #btn-menu, [data-burger]{ height:38px; padding:6px 10px; border-radius:12px; }

  /* Sidebar sheet feel */
  .sidebar{ width:86% !important; max-width: 360px; }
  .sidebar nav a{ padding:.7rem .9rem; border-radius:12px; }

  /* Section title & cards */
  .section-title{ font-size:1.05rem; letter-spacing:.02em; }
  .card{ border-radius:16px; }

  /* Toolbar “商品一覧” */
  #view-items .items-toolbar{ gap:.5rem; }
  #view-items .items-toolbar .left{ width:100%; }
  #view-items .items-toolbar .right{
    width:100%; display:flex; gap:.5rem; flex-wrap:wrap;
  }
  #view-items .items-toolbar .search{
    flex:1; min-width:0; height:42px;
  }
  #view-items .items-toolbar .btn{
    height:38px; padding:0 12px; border-radius:12px;
  }

  /* Tabel – header jelas & sticky */
  #view-items .table thead th{
    font-size:.82rem; white-space:nowrap;
    position:sticky; top:0; z-index:1;
  }
  #view-items .table td, #view-items .table th{
    padding:.55rem .6rem;
  }

  /* Kolom QR jangan terlalu lebar */
  #view-items .qr-cell,
  #view-items thead th:first-child,
  #view-items tbody td:first-child{
    width:130px !important; min-width:130px !important;
  }

  /* Kolom 置場 monospace tetap rapi */
  #view-items thead th:nth-child(8),
  #view-items tbody td:nth-child(8){
    font-size:.9rem; letter-spacing:.4px; white-space:nowrap;
  }

  /* Aksi per baris jadi grid 1×3 ikon – tidak menumpuk */
  #view-items .act-grid{
    display:grid; grid-template-columns: repeat(3, 40px);
    gap:.35rem; justify-content:flex-end;
  }
  #view-items .act-grid .btn{
    width:40px; height:40px; padding:0;
    border-radius:12px; display:flex; align-items:center; justify-content:center;
  }
  #view-items .act-grid .btn i{ font-size:1rem; }

  /* Hindari chip merah/biru melebar (dari style lama) */
  #view-items .act-grid .btn-outline-success,
  #view-items .act-grid .btn-outline-secondary,
  #view-items .act-grid .btn-danger{
    min-width:40px; max-width:40px;
  }

  /* Kartu tabel (container) diberi breathing space */
  #view-items .card{ padding:14px; }
}

/* ===== Small tablets (421–768px) – sedikit lebih lega ===== */
@media (min-width:421px) and (max-width:768px){
  #view-items .items-toolbar .search{ min-width:240px; }
  #view-items .act-grid{ grid-template-columns: repeat(3, 44px); gap:.45rem; }
  #view-items .act-grid .btn{ width:44px; height:44px; }
}

/* ===== Ikon tombol lebih konsisten di semua ukuran ===== */
#view-items .act-grid .btn-dl::after{ content: "DL"; font-weight:600; font-size:.8rem; }
#view-items .act-grid .btn-preview i::before{ margin-top:1px; }
