/* =========================================================
 * styles.css — Inventory UI (mobile-first, app-like)
 * =======================================================*/

/* ---------- Reset ringan ---------- */
:root{
  --bg: #f6f8fc;
  --card: #ffffff;
  --muted: #6b7280;
  --border: #e5e7eb;
  --primary: #2563eb;
  --danger: #dc2626;
  --success: #16a34a;
  --shadow: 0 8px 26px rgba(15,23,42,.06);
  --radius: 16px;
}
html,body{height:100%}
body{background:var(--bg); color:#0f172a; -webkit-font-smoothing:antialiased;}

/* ---------- Cards & layout ---------- */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}
.section-title{font-weight:600; letter-spacing:.02em;}
.badge-soft{
  background:#eef2ff; color:#374151; border:1px solid #e5e7eb;
  padding:.25rem .5rem; border-radius:999px; font-size:.8rem;
}

/* ---------- Sidebar ---------- */
.sidebar{
  background:#0b1727; color:#e5e7eb; border-right:0;
  box-shadow: 8px 0 28px rgba(2,6,23,.25);
}
.sidebar nav a{
  display:flex; gap:.6rem; align-items:center;
  padding:.65rem .8rem; color:#bcc6d8; text-decoration:none;
  border-radius:12px; font-weight:500;
}
.sidebar nav a:hover{ background:#15243a; color:#fff; }
.sidebar nav a.active{ background:#1d2e4b; color:#fff; }

/* ---------- Toolbar header (per menu) ---------- */
.items-toolbar{
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
}
.items-toolbar .left{ display:flex; align-items:center; gap:.75rem; }
.items-toolbar .right{ display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
.items-toolbar .search{
  min-width:220px; height:42px; border-radius:12px;
}

/* ---------- Buttons ---------- */
.btn{
  border-radius:12px;
}
.btn.btn-sm{
  padding:.3rem .65rem;
  height:38px;
  border-radius:12px;
}

/* ---------- Tables ---------- */
.table{ margin:0; }
.table thead th{
  font-weight:600; color:#334155; background:#f0f3fb;
  border-bottom:1px solid var(--border);
  vertical-align:middle;
}
.table td, .table th{ padding:.6rem .7rem; }
.table tr + tr td{ border-top:1px solid #eef2f7; }

/* Sticky header pada container scroll */
.table-responsive thead th{
  position: sticky; top: 0; z-index: 1;
}

/* ---------- QR cell ---------- */
.tbl-qr-box{ display:flex; align-items:center; gap:.4rem; }
.tbl-qr-box > div{ border:1px solid #e5e7eb; border-radius:10px; overflow:hidden; }

/* ---------- Actions grid (ikon kecil sejajar) ---------- */
.act-grid{
  display:grid; grid-template-columns: repeat(4, 40px);
  gap:.35rem; justify-content:flex-end;
}
.act-grid .btn{
  width:40px; height:40px; padding:0;
  display:flex; align-items:center; justify-content:center;
}

/* ---------- Forms ---------- */
.form-control, .form-select{
  border-radius:12px; border-color:#e5e7eb;
}
.form-label{ font-weight:600; color:#374151; }

/* ---------- Charts ---------- */
.chart-box{ position:relative; width:100%; height:280px; }

/* ---------- Scan area ---------- */
#scan-area, #io-scan-area{
  border:1px dashed #cbd5e1;
}

/* ---------- Top appbar ---------- */
header.appbar{ background:#fff; border-bottom:1px solid var(--border); }
header.appbar .brand{ gap:.6rem; }
header.appbar .brand img{ height:32px; }

/* ---------- Print helpers ---------- */
@media print{
  body{ background:#fff; }
  header.appbar, aside.sidebar, .items-toolbar, #btn-logout{ display:none !important; }
  .card{ box-shadow:none; border:0; }
}

/* =========================================================
 * Responsive polish
 * =======================================================*/

/* ===== Mobile ≤ 420px ===== */
@media (max-width: 420px){

  .content{ padding:10px !important; }

  /* Appbar spacing */
  header.appbar .container-fluid{ padding-top:8px; padding-bottom:8px; }
  #btn-menu, [data-burger]{ height:38px; padding:6px 10px; border-radius:12px; }

  /* Sidebar sheet */
  .sidebar{ width:86% !important; max-width:360px; }
  .sidebar nav a{ padding:.7rem .9rem; border-radius:12px; }

  /* Section titles & cards */
  .section-title{ font-size:1.05rem; }

  /* Toolbar */
  .items-toolbar{ flex-direction:column; align-items:stretch; gap:.6rem; }
  .items-toolbar .left, .items-toolbar .right{ width:100%; }
  .items-toolbar .right{ justify-content:flex-start; }
  .items-toolbar .search{ width:100%; min-width:0; }

  /* Tables */
  .table thead th{ font-size:.84rem; white-space:nowrap; }
  .table td{ font-size:.95rem; }

  /* QR column pencadangan lebar */
  #view-items thead th:first-child,
  #view-items tbody td:first-child{
    width:130px !important; min-width:130px !important;
  }

  /* 置場 rapi */
  #view-items thead th:nth-child(8),
  #view-items tbody td:nth-child(8){
    font-size:.9rem; letter-spacing:.4px; white-space:nowrap;
  }

  /* Actions grid */
  .act-grid{ grid-template-columns: repeat(4, 40px); gap:.35rem; }
  .act-grid .btn{ width:40px; height:40px; }

  /* Scan box */
  #scan-area, #io-scan-area{ border-radius:12px; }

  /* Cards padding */
  .card{ border-radius:16px; }
}

/* ===== Small tablets 421–768px ===== */
@media (min-width:421px) and (max-width:768px){
  .items-toolbar .search{ min-width:240px; }
  .act-grid{ grid-template-columns: repeat(4, 44px); gap:.45rem; }
  .act-grid .btn{ width:44px; height:44px; }
  .chart-box{ height:300px; }
}

/* =========================================================
 * Utilities
 * =======================================================*/

.text-uppercase{ text-transform:uppercase; }
.text-muted{ color: var(--muted) !important; }
.text-primary{ color: var(--primary) !important; }
.text-danger{ color: var(--danger) !important; }
.text-success{ color: var(--success) !important; }

.link-underline{ text-decoration:none; border-bottom:1px dashed #cbd5e1; }
.link-underline:hover{ border-bottom-color:#94a3b8; }

/* Compact inputs untuk tabel */
.table .form-control.form-control-sm{
  height:36px; padding:.2rem .5rem; border-radius:10px;
}

/* Stocktake action buttons */
.st-actions{ display:flex; gap:.4rem; justify-content:flex-end; }
.st-actions .btn{ height:32px; padding:.2rem .6rem; border-radius:10px; }

/* Badge minimal untuk lokasi */
.badge-loc{
  background:#f8fafc; border:1px solid #e5e7eb; color:#334155;
  padding:.2rem .5rem; border-radius:8px; font-weight:600;
}
/* Footer */
.app-footer{
  margin-top:24px; padding:14px 12px;
  color:#6b7280; background:transparent; text-align:center;
  font-size:.9rem;
}
.app-footer b{ color:#374151; }
@media print{ .app-footer{ display:none !important; } }
/* ==== Tap-safe & header polish ==== */
button, a, input, label { touch-action: manipulation; -webkit-tap-highlight-color: transparent; }

header.appbar .btn { white-space: nowrap; }
header.appbar #btn-logout { height: 36px; padding: 6px 10px; border-radius: 12px; }

/* ==== Global loading overlay ==== */
#global-loading {
  position: fixed; inset: 0;
  background: rgba(255,255,255,.7);
  backdrop-filter: saturate(1.1) blur(2px);
  display: flex; align-items: center; justify-content: center;
  z-index: 2000;
}
#global-loading.d-none { display: none; }
#global-loading .box {
  display:flex; flex-direction:column; align-items:center; gap:10px;
  padding:16px 18px; background:#fff; border:1px solid #e5e7eb;
  border-radius:14px; box-shadow: var(--shadow);
}
#global-loading .spinner {
  width:28px; height:28px; border-radius:50%;
  border:3px solid #cbd5e1; border-top-color: var(--primary);
  animation: spin 1s linear infinite;
}
#global-loading .text { font-size:.95rem; color:#475569; }
@keyframes spin { to { transform: rotate(360deg); } }

.avatar{ width:28px; height:28px; border-radius:50%; object-fit:cover; border:1px solid #e2e8f0; }
